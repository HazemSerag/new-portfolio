(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[433],{7073:function(e,n){n.y="http://localhost:8080/",n.R="Bearer "},6364:function(e,n,r){"use strict";r.d(n,{Z:function(){return j}});var t=r(2791),a=r(4164),o="modal_overlay-container__rFil6",s="modal_modal-button__s5KGs",c="modal_overlay__Fj9Km",i="modal_modal-container__EqWdH",l="modal_modal-content__79W0Y",u="modal_error__TBtLk",d="modal_success__kxVdA",m="modal_modal-controls__Wh6Dw",f=r(184),p=function(e){return(0,f.jsx)(t.Fragment,{children:(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("div",{className:c,onClick:e.onClose}),(0,f.jsxs)("div",{className:i,children:[(0,f.jsx)("div",{className:"".concat(l," ").concat(e.error?u:d),children:e.children}),(0,f.jsxs)("div",{className:m,children:[e.onConfirm&&(0,f.jsx)("button",{className:s,onClick:null===e||void 0===e?void 0:e.onConfirm,children:"Confirm"}),(0,f.jsx)("button",{className:s,onClick:e.onClose,children:"Close"})]})]})]})})},h=document.getElementById("overlays"),j=function(e){return a.createPortal((0,f.jsx)(p,{onClose:e.onClose,error:e.error,onConfirm:null===e||void 0===e?void 0:e.onConfirm,children:e.children}),h)}},433:function(e,n,r){"use strict";r.r(n);var t=r(8683),a=r(5861),o=r(2982),s=r(885),c=r(7757),i=r.n(c),l=r(2791),u=r(7831),d=r(8931),m=r(4047),f=r(8734),p=r(6364),h=r(7073),j=r(334),x=r(184);n.default=function(){var e,n,r=(0,d.UO)().projectId,c=(0,l.useState)(null),v=(0,s.Z)(c,2),g=v[0],_=v[1],N=(0,l.useState)([]),y=(0,s.Z)(N,2),k=y[0],b=y[1],Z=(0,l.useState)(!0),C=(0,s.Z)(Z,2),w=C[0],I=C[1],P=(0,l.useState)(""),D=(0,s.Z)(P,2),R=D[0],S=D[1],z=(0,l.useState)(""),E=(0,s.Z)(z,2),U=E[0],V=E[1],A=(0,l.useContext)(j.Z),F=(0,d.k6)(),T=(0,l.useRef)(),W=(0,l.useRef)(),B=(0,l.useRef)(),K=(0,l.useRef)(),O=(0,l.useRef)(),Y=(0,l.useRef)(),q=(0,l.useRef)(),H=(0,l.useRef)([]),L=(0,l.useRef)([]),M=!1,G=[{name:"Design",value:"Design"},{name:"Development",value:"Development"},{name:"Deploy",value:"Deploy"},{name:"Support",value:"Support"}];(0,l.useEffect)((function(){fetch(h.y+"development/technologies").then((function(e){return e.json()})).then((function(e){var n=(0,o.Z)(e);return b((function(){return(0,o.Z)(n)}))})).catch((function(e){S(!0),I(!1)}))}),[]),(0,l.useEffect)((function(){var e=!1;fetch(h.y+"development/projects/"+r).then((function(n){return n.ok||(e=!0),n.json()})).then((function(n){if(e)throw new Error("Error: "+n.message);return _(n)})).then((function(){I(!1)})).catch((function(e){S(e.message),I(!1)}))}),[r]),g&&(e=[g.mainImageUrl],g.projectImagesUrls&&g.projectImagesUrls.length>0&&(n=(0,o.Z)(g.projectImagesUrls)));var J=function(){var t=(0,a.Z)(i().mark((function t(a){var o,c,l,u,d,m,f,p,j,x;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),o={title:T.current.value,clientName:W.current.value,category:B.current.value,link:K.current.value,description:O.current.value,from:Y.current.value,to:q.current.value,mainImage:e,images:n,services:H.current.filter((function(e){return e.checked})).map((function(e){return e.defaultValue})),technologies:L.current.filter((function(e){return e.checked})).map((function(e){return e.defaultValue}))},c="PUT",l=h.y+"development/projects/"+r+"?folder=projects",!M){t.next=30;break}return u=new FormData,Object.entries(o).map((function(e){var n=(0,s.Z)(e,2),r=n[0],t=n[1];return"technologies"!==r&&"services"!==r&&"mainImage"!==r&&"images"!==r||!o[r]?u.append(r,t):o[r].map((function(e){return u.append(r,e)}))})),t.prev=7,d=!1,t.next=11,fetch(l,{method:c,body:u,headers:{Authorization:h.R+A.token}});case 11:return m=t.sent,I(!0),m.ok||(d=!0),t.next=16,m.json();case 16:if(f=t.sent,!d){t.next=20;break}throw new Error("Error: "+f.message);case 20:V(f.message),I(!1),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(7),I(!1),S(t.t0.message);case 28:t.next=51;break;case 30:return t.prev=30,p=!1,t.next=34,fetch(l,{method:c,body:JSON.stringify(o),headers:{"content-type":"application/json",Authorization:h.R+A.token}});case 34:return j=t.sent,I(!0),j.ok||(p=!0),t.next=39,j.json();case 39:if(x=t.sent,!p){t.next=43;break}throw new Error("Error: "+x.message);case 43:V(x.message),I(!1),t.next=51;break;case 47:t.prev=47,t.t1=t.catch(30),I(!1),S(t.t1.message);case 51:case"end":return t.stop()}}),t,null,[[7,24],[30,47]])})));return function(e){return t.apply(this,arguments)}}(),Q=w?(0,x.jsx)(f.Z,{}):(0,x.jsx)("div",{className:"".concat(m.Z["add-project-page"]," bg-grey-neu"),children:(0,x.jsxs)("form",{className:"".concat(m.Z["add-project-form"]," neum-form"),onSubmit:J,children:[(0,x.jsx)("h3",{className:m.Z["form-title"],children:"Add Project"}),(0,x.jsx)("div",{className:"form-input",children:(0,x.jsx)("input",{ref:T,className:"form-input-neu",defaultValue:g.title,type:"text",placeholder:"Project Title"})}),(0,x.jsxs)("div",{className:"form-row",children:[(0,x.jsx)("div",{className:"form-input-50",children:(0,x.jsx)("input",{ref:W,className:"form-input-neu",defaultValue:g.client,type:"text",placeholder:"Client Name"})}),(0,x.jsx)("div",{className:"form-input-50",children:(0,x.jsx)("input",{ref:B,className:"form-input-neu ml-auto",defaultValue:g.category,type:"text",placeholder:"Category"})})]}),(0,x.jsx)("div",{className:"form-input",children:(0,x.jsx)("input",{ref:K,className:"form-input-neu",type:"text",defaultValue:g.link,placeholder:"Link"})}),(0,x.jsx)("div",{className:"form-input",children:(0,x.jsx)("textarea",{ref:O,className:"form-input-neu",defaultValue:g.description,type:"text",placeholder:"Description"})}),(0,x.jsxs)("div",{className:"form-input",children:[(0,x.jsx)("h5",{children:"From"}),(0,x.jsx)("input",{ref:Y,className:"form-input-neu",type:"date",defaultValue:g.from,placeholder:"from"})]}),(0,x.jsxs)("div",{className:"form-input",children:[(0,x.jsx)("h5",{children:"To"}),(0,x.jsx)("input",{ref:q,className:"form-input-neu",type:"date",defaultValue:g.to,placeholder:"to"})]}),(0,x.jsx)(u.ZP,{multiple:!1,accept:"image/*",onDrop:function(n){M=!0,e=n},children:function(e){var n=e.getRootProps,r=e.getInputProps;return(0,x.jsxs)("section",{className:m.Z["dropzone-container"],children:[(0,x.jsxs)("div",(0,t.Z)((0,t.Z)({className:"dropzone-area-neu"},n()),{},{children:[(0,x.jsx)("input",(0,t.Z)({},r())),(0,x.jsx)("p",{children:"Drop Main Image"})]})),(0,x.jsx)("aside",{children:(0,x.jsx)("div",{className:m.Z["file-list"],children:(0,x.jsx)("img",{className:m.Z["main-preview-img"],src:h.y+g.mainImageUrl,alt:"project main"})})})]})}}),(0,x.jsx)(u.ZP,{onDrop:function(e){M=!0,n=e},children:function(e){var n=e.getRootProps,r=e.getInputProps;return(0,x.jsxs)("section",{className:m.Z["dropzone-container"],children:[(0,x.jsxs)("div",(0,t.Z)((0,t.Z)({className:"dropzone-area-neu"},n()),{},{children:[(0,x.jsx)("input",(0,t.Z)({},r())),(0,x.jsx)("p",{children:"Drop Images"})]})),(0,x.jsx)("aside",{children:g.projectImagesUrls&&(0,x.jsx)("div",{className:m.Z["file-list"],children:g.projectImagesUrls.map((function(e,n){return(0,x.jsx)("img",{className:m.Z["preview-img"],src:h.y+e,alt:"Project"},n)}))})})]})}}),(0,x.jsx)("h5",{children:"Services: "}),(0,x.jsx)("div",{className:"form-input",children:G.map((function(e,n){return(0,x.jsxs)("div",{className:"form-check-neu d-inline mx-1 w-sm",children:[(0,x.jsx)("input",{ref:function(e){return H.current[n]=e},className:"checkbox-neu",defaultChecked:g.services.includes(G[n].value),type:"checkbox",value:e.value,id:"services"}),(0,x.jsx)("label",{className:"checkbox-label-neu",htmlFor:"flexCheckDefault",children:e.name})]},n)}))}),(0,x.jsx)("h5",{children:"Technologies: "}),(0,x.jsx)("div",{className:"form-input",children:k.map((function(e,n){return(0,x.jsxs)("div",{className:"form-check-neu d-inline mx-1 w-sm",children:[(0,x.jsx)("input",{ref:function(e){return L.current[n]=e},className:"checkbox-neu",defaultChecked:g.technologies.map((function(e){return e._id})).includes(k[n]._id),placeholder:e.name,type:"checkbox",value:e._id,id:"technologies"}),(0,x.jsx)("label",{className:"checkbox-label-neu",htmlFor:"flexCheckDefault",children:e.name})]},e._id)}))}),(0,x.jsx)("div",{className:"mt-3",children:(0,x.jsx)("button",{className:"neu",type:"submit",children:"ADD IT"})})]})});return(0,x.jsxs)(l.Fragment,{children:[""!==R&&(0,x.jsx)(p.Z,{error:!0,onClose:function(){S(""),V(""),F.push("/")},children:R}),""!==U&&(0,x.jsx)(p.Z,{error:!1,onClose:function(){S(""),V(""),F.push("/projects/"+r)},children:U}),Q]})}},4047:function(e,n){"use strict";n.Z={"add-project-page":"addProject_add-project-page__SqikI","add-project-form":"addProject_add-project-form__oudA8","form-title":"addProject_form-title__Ndeyo","dropzone-area":"addProject_dropzone-area__pRzY9","form-input-neu":"addProject_form-input-neu__Ka7Us","dropzone-container":"addProject_dropzone-container__vbvVi","file-list":"addProject_file-list__aWoiT","preview-img":"addProject_preview-img__eIQCH","main-preview-img":"addProject_main-preview-img__UeM1Y"}},2982:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var t=r(907);var a=r(181);function o(e){return function(e){if(Array.isArray(e))return(0,t.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=433.57d2c2cc.chunk.js.map