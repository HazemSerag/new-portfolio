{"version":3,"file":"static/js/827.febce343.chunk.js","mappings":"4FAAAA,EAAQ,EAAa,yBACrBA,EAAQ,EAAmB,W,0FCA3B,EAAoC,iCAApC,EAAoF,4BAApF,EAA0H,uBAA1H,EAAmK,+BAAnK,EAAkN,6BAAlN,EAAuP,qBAAvP,EAAsR,uBAAtR,EAA8T,8B,SCKxTC,EAAe,SAACC,GAClB,OACI,SAAC,EAAAC,SAAD,WACA,iBAAKC,UAAWC,EAAhB,WACI,gBAAKD,UAAWC,EAAiBC,QAASJ,EAAMK,WAChD,iBAAKH,UAAWC,EAAhB,WACI,gBAAKD,UAAS,UAAKC,EAAL,YAAiCH,EAAMM,MAAMH,EAAiBA,GAA5E,SACKH,EAAMO,YAEX,iBAAKL,UAAWC,EAAhB,UAEOH,EAAMQ,YAAa,mBAAQN,UAAWC,EAAyBC,QAAO,OAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAAOQ,UAA5D,sBAEtB,mBAAQN,UAAWC,EAAyBC,QAASJ,EAAMK,QAA3D,+BAQdI,EAAgBC,SAASC,eAAe,YAQ9C,EANc,SAACX,GACX,OACIY,EAAAA,cAAsB,SAACb,EAAD,CAAcM,QAASL,EAAMK,QAASC,MAAON,EAAMM,MAAOE,UAAS,OAAER,QAAF,IAAEA,OAAF,EAAEA,EAAOQ,UAA5E,SAAwFR,EAAMO,WAA0BE,K,oIC9BtJ,EAAoC,mCAApC,EAA8E,sBAA9E,EAA8G,yBAA9G,EAA+I,uBAA/I,EAAgL,yB,4BCuIhL,EA/HgB,WACd,OAA8BI,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAAgDJ,EAAAA,EAAAA,WAAS,GAAzD,eAAOK,EAAP,KAAyBC,EAAzB,KACA,GAAsCN,EAAAA,EAAAA,UAAS,MAA/C,eAAOO,EAAP,KAAoBC,EAApB,KACA,GAA0BR,EAAAA,EAAAA,UAAS,MAAnC,eAAOP,EAAP,KAAcgB,EAAd,KAEQC,GAAUC,EAAAA,EAAAA,MAAVD,MAEFE,GAAUC,EAAAA,EAAAA,MAEVC,GAAUC,EAAAA,EAAAA,YAAWC,EAAAA,IAE3BC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAMC,EAAAA,EAAa,wBAA0BT,EAC/CU,GAAc,EAClBC,MAAMH,EAAK,CAAEI,QAAS,CAAEC,cAAeC,EAAAA,EAAmBV,EAAQW,SAC/DC,MAAK,SAACC,GAIL,OAHKA,EAAIC,KACPR,GAAc,GAETO,EAAIE,UAEZH,MAAK,SAACC,GACL,GAAIP,EAEF,MADiB,IAAIU,MAAM,UAAYH,EAAI1B,SAG7C,OAAOC,EAAWyB,MAEnBD,MAAK,WACJtB,GAAW,MAEZ2B,OAAM,SAACC,GACN5B,GAAW,GACXK,EAASuB,EAAI/B,cAEhB,CAACS,EAAMI,EAAQW,QAElB,IAAMQ,EAAa,WACjBxB,GAAS,GACTH,GAAoB,IAyCtB,OACE,UAAC,EAAAlB,SAAD,YACE,gBAAKC,UAAU,iBAAf,UACE,iBAAKA,UAAWC,EAA+B,gBAA/C,UACGa,IAAW,SAAC,IAAD,KAEV,4BACE,iBAAKd,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,sBACYW,EAAQiC,YAEpB,iBAAK7C,UAAWC,EAAhB,UAAmCW,EAAQkC,MAA3C,KAAoDlC,EAAQmC,KAA5D,WAGF,gBAAK/C,UAAWC,EAAqB,gBAArC,SACGW,EAAQoC,WAGX,gBAAKhD,UAAWC,KAChB,mBAAQD,UAAW,MAAOE,QAzDhB,WACpBe,GAAoB,IAwDV,4BAOPb,IACC,SAAC,IAAD,CAAOA,OAAO,EAAMD,QAASyC,EAA7B,SACGxC,IAGJY,IACC,SAAC,IAAD,CAAOV,UAlEgB,WAC3B,IAAMuB,EAAMC,EAAAA,EAAa,wBAA0BT,EAG/CU,GAAc,EAClBC,MAAMH,EAAK,CACPoB,OAJW,SAKXhB,QAAS,CAAEC,cAAeC,EAAAA,EAAmBV,EAAQW,SAEtDC,MAAK,SAACC,GAIL,OAHKA,EAAIC,KACPR,GAAc,GAETO,EAAIE,UAEZH,MAAK,SAACC,GACL,GAAIP,EAEF,MADiB,IAAIU,MAAM,UAAYH,EAAI1B,SAG7C,OAAOO,EAAemB,EAAI1B,YAE3ByB,MAAK,WACJtB,GAAW,MAEZ2B,OAAM,SAACC,GACN5B,GAAW,GACXK,EAASuB,EAAI/B,aAuC2BT,QAASyC,EAAjD,2DAID1B,IACC,SAAC,IAAD,CAAOd,OAAO,EAAOD,QAxCC,WAC1BoB,EAAQ2B,KAAK,wBAuCT,SACGhC","sources":["apiConfigs.js","webpack://portfolio/./src/components/UI/modal.module.css?5786","components/UI/modal.js","webpack://portfolio/./src/components/admin/message.module.css?ae32","components/admin/message.js"],"sourcesContent":["exports.apiRootURL = \"http://localhost:8080/\"\nexports.tokenIndentation = \"Bearer \"","// extracted by mini-css-extract-plugin\nexport default {\"overlay-container\":\"modal_overlay-container__rFil6\",\"modal-button\":\"modal_modal-button__s5KGs\",\"overlay\":\"modal_overlay__Fj9Km\",\"modal-container\":\"modal_modal-container__EqWdH\",\"modal-content\":\"modal_modal-content__79W0Y\",\"error\":\"modal_error__TBtLk\",\"success\":\"modal_success__kxVdA\",\"modal-controls\":\"modal_modal-controls__Wh6Dw\"};","import { Fragment } from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport classes from \"./modal.module.css\"\n\n\nconst ModalOverLay = (props) => {\n    return (\n        <Fragment>\n        <div className={classes[\"overlay-container\"]}>\n            <div className={classes.overlay} onClick={props.onClose}></div>\n            <div className={classes[\"modal-container\"]}>\n                <div className={`${classes[\"modal-content\"]} ${props.error?classes[\"error\"]:classes[\"success\"]}`}>\n                    {props.children}\n                </div>\n                <div className={classes[\"modal-controls\"]}>\n                    {\n                       props.onConfirm && <button className={classes[\"modal-button\"]} onClick={props?.onConfirm}>Confirm</button>\n                    }\n                    <button className={classes[\"modal-button\"]} onClick={props.onClose}>Close</button>\n                </div>\n            </div>\n        </div>\n        </Fragment>\n    )\n} \n\nconst portalElement = document.getElementById(\"overlays\")\n\nconst Modal = (props) => {\n    return (\n        ReactDOM.createPortal(<ModalOverLay onClose={props.onClose} error={props.error} onConfirm={props?.onConfirm}>{props.children}</ModalOverLay>, portalElement)\n    )\n}\n\nexport default Modal;","// extracted by mini-css-extract-plugin\nexport default {\"message-container\":\"message_message-container__mVd9V\",\"info\":\"message_info__W6KpL\",\"subject\":\"message_subject__Ql7rr\",\"email\":\"message_email__xA3Xr\",\"content\":\"message_content__NTF9x\"};","import { Fragment, useContext, useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport Modal from \"../UI/modal\";\nimport Spinner from \"../UI/spinner\";\nimport classes from \"./message.module.css\";\nimport { apiRootURL, tokenIndentation } from \"../../apiConfigs\";\nimport AuthContext from \"../../store/authContexts\";\n\nconst Message = () => {\n  const [message, setMessage] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [deleteMessageAsk, setDeleteMessageAsk] = useState(false);\n  const [responseMsg, setResponseMsg] = useState(null);\n  const [error, setError] = useState(null);\n\n  const { msgId } = useParams();\n\n  const history = useHistory();\n\n  const authCTX = useContext(AuthContext);\n\n  useEffect(() => {\n    const URL = apiRootURL + \"development/messages/\" + msgId;\n    let errorExists = false;\n    fetch(URL, { headers: { Authorization: tokenIndentation + authCTX.token } })\n      .then((res) => {\n        if (!res.ok) {\n          errorExists = true;\n        }\n        return res.json();\n      })\n      .then((res) => {\n        if (errorExists) {\n          const newError = new Error(\"Error: \" + res.message);\n          throw newError;\n        }\n        return setMessage(res);\n      })\n      .then(() => {\n        setLoading(false);\n      })\n      .catch((err) => {\n        setLoading(false);\n        setError(err.message);\n      });\n  }, [msgId,authCTX.token]);\n\n  const closeModal = () => {\n    setError(false);\n    setDeleteMessageAsk(false);\n  };\n\n  const confirmDelete = () => {\n    setDeleteMessageAsk(true);\n  };\n\n  const deleteMessageHandler = () => {\n    const URL = apiRootURL + \"development/messages/\" + msgId;\n    const METHOD = \"DELETE\";\n\n    let errorExists = false;\n    fetch(URL, {\n        method: METHOD,\n        headers: { Authorization: tokenIndentation + authCTX.token }\n    })\n      .then((res) => {\n        if (!res.ok) {\n          errorExists = true;\n        }\n        return res.json();\n      })\n      .then((res) => {\n        if (errorExists) {\n          const newError = new Error(\"Error: \" + res.message);\n          throw newError;\n        }\n        return setResponseMsg(res.message);\n      })\n      .then(() => {\n        setLoading(false);\n      })\n      .catch((err) => {\n        setLoading(false);\n        setError(err.message);\n      });\n  };\n\n  const routeBackToMessages = () => {\n    history.push(\"/dashboard/messages\");\n  };\n  return (\n    <Fragment>\n      <div className=\"neum-container\">\n        <div className={classes[\"message-container\"] + \" neum-element\"}>\n          {loading && <Spinner />}\n          {\n            <div>\n              <div className={classes[\"info\"]}>\n                <div className={classes[\"subject\"]}>\n                  Subject: {message.subject}\n                </div>\n                <div className={classes[\"email\"]}>{message.email} ({message.name})</div>\n              </div>\n\n              <div className={classes[\"content\"] + \" neum-element\"}>\n                {message.content}\n              </div>\n\n              <div className={classes[\"info\"]}></div>\n              <button className={\"neu\"} onClick={confirmDelete}>\n                Delete\n              </button>\n            </div>\n          }\n        </div>\n      </div>\n      {error && (\n        <Modal error={true} onClose={closeModal}>\n          {error}\n        </Modal>\n      )}\n      {deleteMessageAsk && (\n        <Modal onConfirm={deleteMessageHandler} onClose={closeModal}>\n          Are you sure you want to delete this Message?\n        </Modal>\n      )}\n      {responseMsg && (\n        <Modal error={false} onClose={routeBackToMessages}>\n          {responseMsg}\n        </Modal>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Message;\n"],"names":["exports","ModalOverLay","props","Fragment","className","classes","onClick","onClose","error","children","onConfirm","portalElement","document","getElementById","ReactDOM","useState","message","setMessage","loading","setLoading","deleteMessageAsk","setDeleteMessageAsk","responseMsg","setResponseMsg","setError","msgId","useParams","history","useHistory","authCTX","useContext","AuthContext","useEffect","URL","apiRootURL","errorExists","fetch","headers","Authorization","tokenIndentation","token","then","res","ok","json","Error","catch","err","closeModal","subject","email","name","content","method","push"],"sourceRoot":""}